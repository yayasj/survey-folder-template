---
# Baseline expectation suite for GPS/location data
# This suite validates geographical coordinates and location data

data_asset_type: "pandas"
expectation_suite_name: "gps_suite"

expectations:
  # Structural checks
  - expectation_type: "expect_table_columns_to_match_ordered_list"
    kwargs:
      column_list:
        - "household_id"
        - "gps_latitude"
        - "gps_longitude"
        - "gps_altitude"
        - "gps_accuracy"
        - "location_name"
    meta:
      severity: "critical"
      
  - expectation_type: "expect_column_values_to_not_be_null"
    kwargs:
      column: "household_id"
    meta:
      severity: "critical"

  # GPS coordinate validation
  - expectation_type: "expect_column_values_to_be_between"
    kwargs:
      column: "gps_latitude"
      min_value: -90
      max_value: 90
    meta:
      severity: "error"
      description: "Latitude must be valid geographic coordinate"
      
  - expectation_type: "expect_column_values_to_be_between"
    kwargs:
      column: "gps_longitude" 
      min_value: -180
      max_value: 180
    meta:
      severity: "error"
      description: "Longitude must be valid geographic coordinate"
      
  # Country-specific bounds (example for West Africa)
  - expectation_type: "expect_column_values_to_be_between"
    kwargs:
      column: "gps_latitude"
      min_value: 4.0   # Southern boundary
      max_value: 17.0  # Northern boundary
    meta:
      severity: "warning"
      description: "Latitude should be within country bounds"
      
  - expectation_type: "expect_column_values_to_be_between"
    kwargs:
      column: "gps_longitude"
      min_value: -17.0  # Western boundary  
      max_value: 5.0    # Eastern boundary
    meta:
      severity: "warning"
      description: "Longitude should be within country bounds"
      
  # Accuracy checks
  - expectation_type: "expect_column_values_to_be_between"
    kwargs:
      column: "gps_accuracy"
      min_value: 0
      max_value: 100
    meta:
      severity: "warning"
      description: "GPS accuracy should be reasonable (meters)"
      
  # Non-null GPS for most records
  - expectation_type: "expect_column_values_to_not_be_null"
    kwargs:
      column: "gps_latitude"
      mostly: 0.90
    meta:
      severity: "warning"
      description: "Most households should have GPS coordinates"
      
  - expectation_type: "expect_column_values_to_not_be_null"
    kwargs:
      column: "gps_longitude"
      mostly: 0.90
    meta:
      severity: "warning"
      description: "Most households should have GPS coordinates"
      
  # Unique household locations
  - expectation_type: "expect_column_values_to_be_unique"
    kwargs:
      column: "household_id"
    meta:
      severity: "error"
      description: "Each household should have one GPS record"
